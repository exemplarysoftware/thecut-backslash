{% extends "backslash/accounts_base.html" %}
{% load i18n static %}


{% block title %}{% trans "Password change" %} - {{ block.super }}{% endblock %}


{% block content %}

  <h1>{% trans "Password change" %}</h1>
  <p>{% trans "Please enter your old password, and then enter your new password twice so we can verify you typed it in correctly." %}</p>

  {% if form.errors and not form.non_field_errors %}
    <p class="errornote">{% if form.errors.items|length == 1 %}{% trans "Please correct the error below." %}{% else %}{% trans "Please correct the errors below." %}{% endif %}</p>
  {% endif %}

  {% for error in form.non_field_errors %}
    <p class="errornote">{{ error }}</p>
  {% endfor %}

  <form action="" method="post" id="password-change-form">

    <div>{% csrf_token %}</div>

    <ul>

      <li class="old-password">
        <label for="id_old_password" class="required">{% trans "Old password" %}:</label>
        {{ form.old_password }}
        {{ form.old_password.errors }}
      </li>

      <li class="new-password-1">
        <label for="id_new_password1" class="required">{% trans "New password" %}:</label>
        {{ form.new_password1 }}
        {{ form.new_password1.errors }}
      </li>

      <li class="new-password-2">
        <label for="id_new_password2" class="required">{% trans "Password (again)" %}:</label>
        {{ form.new_password2 }}
        {{ form.new_password2.errors }}
      </li>

      <li class="submit">
        <input class="button primary" type="submit" value="{% trans "Change my password" %}" class="default" />
      </li>

    </ul>

    <script type="text/javascript">document.getElementById("id_old_password").focus();</script>

  </form>

{% endblock %}
